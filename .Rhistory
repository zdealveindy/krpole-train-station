## Read data ----
#setwd ('c:/Users/Zeleny/Dropbox/experimenty/KrPole train station/vegetacni snimky')
setwd ('https://raw.githubusercontent.com/zdealveindy/krpole-train-station/refs/heads/main/')
env <- read.delim ('https://raw.githubusercontent.com/zdealveindy/krpole-train-station/refs/heads/main/KrPole%20station%20env.txt')
View(env)
library (vegan)
library (cluster)
library (ade4)
library (adegraphics)
library (adespatial)
library (vegetarian)
com <- read.delim ('https://raw.githubusercontent.com/zdealveindy/krpole-train-station/refs/heads/main/KrPole%20station%20releves.txt', row.names = 1)
spe <- read.delim ('https://raw.githubusercontent.com/zdealveindy/krpole-train-station/refs/heads/main/KrPole%20station%20species.txt')
env <- read.delim ('https://raw.githubusercontent.com/zdealveindy/krpole-train-station/refs/heads/main/KrPole%20station%20env.txt')
rownames (com) <- 1:21  # replace original "releve_nr" by order along the platform transect
com.log <- log1p (com)
## Are data homogeneous or hetergeonous? ----
decorana (com.log)  # length of DCA1 = 1.8 SD - homogeneous data
ordiplot (decorana (com.log), display = 'si', type = 't') # just try if I can visualize
## NMDS analysis on species composition data and randomized transect ----
set.seed (1254468)
nmds <- metaMDS (com.log)
com.log.rand <- t(apply (com.log, MARGIN = 1, sample))
nmds.rand <- metaMDS (com.log.rand)
jpeg (filename = 'KrPole_NMDS.jpg', width = 12, height = 6, units = 'cm', res = 300, pointsize = 6)
par (mfrow = c(1,2))
ordiplot (nmds, display = 'si', type = 'n', main = 'Skutečný transekt / Real transect')
scores.nmds <- scores (nmds, display = 'si', choices = 1:2)
for (i in seq (1,20))
lines (scores.nmds[i:(i+1),], col = 'gray', lwd = 2)
ordilabel (nmds)
par (xpd = TRUE)
mtext("A", side = 3, line = 1.3, adj = -0.2, cex = 1.4, font = 2)
ordiplot (nmds.rand, display = 'si', type = 'n', main = 'Permutovaná data / Permuted data')
scores.nmds.rand <- scores (nmds.rand, display = 'si', choices = 1:2)
for (i in seq (1,20))
lines (scores.nmds.rand[i:(i+1),], col = 'gray', lwd = 2)
ordilabel (nmds.rand)
mtext("B", side = 3, line = 1.3, adj = -0.2, cex = 1.4, font = 2)
dev.off ()
